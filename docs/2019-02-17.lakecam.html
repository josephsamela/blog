<!DOCTYPE html>

<head>
    <title>JOE MAKES</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;700&amp;display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.jpg" />
</head>

<div>
    <h1 class="title">JOE MAKES</h1>
    <p>
        <!--<a href='index.html'>HOME</a> / <a href='listen.html'>LISTEN</a> / <a href="archive.html">ARCHIVE</a> / <a href="shop.html">SHOP</a>-->
        <a href='https://samela.io/'>HOME</a> / <a href="archive.html">PROJECTS</a>
    </p>
    <p class="horizontal-rule">
        &#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;
    </p>
    <div><!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title></title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p><br><a href="https://github.com/JosephSamela/lakecam">See project on github!</a></p>
<h1 id="lakecam">LakeCam</h1>
<p><em>Lakecam is Raspberry Pi controlled webcam that posts to Instagram and streams to YouTube!</em></p>
<h2 id="description">Description</h2>
<p>Social media is hard. The algorithem expects consistant uploads with unique content, and I just don’t have the time. So I built Lakecam - a Raspberry Pi controlled webcam that posts to Instagram and streams to YouTube. It was developed for “Quaboag Lakecam Project” but could be useful for other applications too! Here’s what it does:</p>
<ol type="1">
<li>Reboots every day at noon</li>
<li>Waits for network</li>
<li>Takes photo</li>
<li>Generate’s caption</li>
<li>Posts to Instagram</li>
<li>Starts streaming to rtmp (ie. youtube, twitch, whatever)</li>
<li>Keeps streaming until next day at noon, then reboots.</li>
<li>Repeat…</li>
</ol>
<h2 id="hardware">Hardware</h2>
<ul>
<li>Raspberry Pi Zero W (Use a case with plenty of mounting options)</li>
<li>32GB SD Card (With raspbian installed, NOOBS or equivelant)</li>
<li>Logitech C920 Webcam (Any usb webcam or picam will work)</li>
<li>Micro USB to Type-A cable (To connect webcam to pi)</li>
<li>USB Power adapter (Use a good 2A charger)</li>
</ul>
<p><img src="https://raw.githubusercontent.com/JosephSamela/lakecam/master/image_lakecam_components.jpg" /></p>
<h2 id="setup">Setup</h2>
<p>Install raspbian from NOOBS or equivelant. Edit <code>/etc/wpa_supplicant/wpa_supplicant.conf</code> with set ssid and password of any future wifi connections.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode abc"><code class="sourceCode abc"><a class="sourceLine" id="cb1-1" title="1">network=<span class="dt">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    ssid=<span class="st">&quot;access-point-name&quot;</span></a>
<a class="sourceLine" id="cb1-3" title="3">    psk=<span class="st">&quot;password&quot;</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="dt">}</span></a></code></pre></div>
<p>Install required software.</p>
<ul>
<li><a href="https://www.python.org/">python</a> - Programming language</li>
<li><a href="http://fungi.yuggoth.org/weather/">weather-util</a> - fetch weather reports</li>
<li><a href="http://www.sanslogic.co.uk/fswebcam/">fswebcam</a> - take webcam photos</li>
<li><a href="https://www.imagemagick.org/">imagemagick</a> - crop photos for instagram</li>
<li><a href="https://github.com/b3nab/instapy-cli">instapy-cli</a> - post photos to instagram</li>
<li><a href="https://ffmpeg.org/">ffmpeg</a> - stream webcam feed to rtmp</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode abc"><code class="sourceCode abc"><a class="sourceLine" id="cb2-1" title="1">$ sudo apt install weather-util fswebcam imagemagick ffmpeg</a>
<a class="sourceLine" id="cb2-2" title="2">$ python3 -m pip install instapy-cli</a></code></pre></div>
<p>Build <code>audio.mp3</code> with 24+hrs of music. Use the royalty-free stuff from the <a href="http://freemusicarchive.org/">Free Music Archive</a>. I used a bulk download browser extension to download 500+ tracks and combined them with and <a href="https://www.audacityteam.org/">Audacity</a>. End product was a single 2.4GB mp3 file with 31hrs of classical music.</p>
<p>Move included scripts and <code>audio.mp3</code> to <code>/home/pi</code>. Should look like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode abc"><code class="sourceCode abc"><a class="sourceLine" id="cb3-1" title="1">/home/pi/</a>
<a class="sourceLine" id="cb3-2" title="2">    ├── main.sh</a>
<a class="sourceLine" id="cb3-3" title="3">    ├── 1-wait-for-network.sh</a>
<a class="sourceLine" id="cb3-4" title="4">    ├── 2-take-daily-photo.sh</a>
<a class="sourceLine" id="cb3-5" title="5">    ├── 3-generate-caption-weather.py</a>
<a class="sourceLine" id="cb3-6" title="6">    ├── 4-post-to-instagram.py</a>
<a class="sourceLine" id="cb3-7" title="7">    ├── 5-stream-to-youtube.sh</a>
<a class="sourceLine" id="cb3-8" title="8">    └── audio.mp3</a></code></pre></div>
<p>Edit <code>4-post-to-instagram.py</code> with instagram account credentials.</p>
<p>Edit <code>5-stream-to-livestream.sh</code> with rtmp stream address + key. Edit <code>crontab -e</code> to reboot every day at noon and run <code>main.sh</code> on reboot. Your <code>crontab -e</code> should look like this:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode abc"><code class="sourceCode abc"><a class="sourceLine" id="cb4-1" title="1">00 12 * * * reboot</a>
<a class="sourceLine" id="cb4-2" title="2">@reboot sh /home/pi/main.sh</a></code></pre></div>
<p>Lastly, to wrap things up.</p>
<p>Travel to a scenic location. Connect camera. Mount equipment. Frame shot. Connect to power…and let it run :)</p>
</body>
</html>
<footer>
    <div>
        <p class="horizontal-rule">
            &#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;</p>
        <p>
            <strong>JOE MAKES</strong> &#xa9; 2020 <a href='https://josephsamela.github.io/'>Joseph Samela</a></p>
    </div>
</footer>
Site generated 2022-06-01
