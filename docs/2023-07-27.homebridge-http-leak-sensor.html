<!DOCTYPE html>

<head>
    <title>JOE MAKES</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;700&amp;display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.jpg" />
</head>

<div>
    <h1 class="title">JOE MAKES</h1>
    <p>
        <!--<a href='index.html'>HOME</a> / <a href='listen.html'>LISTEN</a> / <a href="archive.html">ARCHIVE</a> / <a href="shop.html">SHOP</a>-->
        <a href='https://samela.io/'>HOME</a> / <a href="archive.html">PROJECTS</a>
    </p>
    <p class="horizontal-rule">
        &#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;
    </p>
<div><p><br><a
href="https://github.com/josephsamela/homebridge-http-leak-sensor">See
project on github!</a></p>
<p align="center">
<p><img src="https://github.com/homebridge/branding/raw/master/logos/homebridge-wordmark-logo-vertical.png" width="150"></p>
</p>
<p><span align="center"></p>
<h1 id="homebridge-http-leak-sensor">Homebridge HTTP Leak Sensor</h1>
<p><a
href="https://github.com/homebridge/homebridge/wiki/Verified-Plugins"><img
src="https://badgen.net/badge/homebridge/verified/purple"
alt="verified-by-homebridge" /></a> <a
href="https://www.npmjs.com/package/homebridge-http-leak-sensor"><img
src="https://img.shields.io/npm/v/homebridge-http-leak-sensor.svg"
alt="npm" /></a></p>
<p></span></p>
<h2 id="description">Description</h2>
<p>This <a
href="https://github.com/homebridge/homebridge">homebridge</a> plugin
exposes a web-based Leak Sensor to Appleâ€™s <a
href="http://www.apple.com/ios/home/">HomeKit</a>. Using simple HTTP
requests, the plugin allows you to monitor the status of leak
sensors.</p>
<p>Leak sensors enabled with this plugin will appear in Homekit as
sensors. You will be able to check whether or not they detect a leak.
When a leak is detected Homekit will send you CRITICAL alert
notifications.</p>
<p><img
src="https://raw.githubusercontent.com/josephsamela/homebridge-http-leak-sensor/main/images/homekit.jpg" /></p>
<p><img
src="https://raw.githubusercontent.com/josephsamela/homebridge-http-leak-sensor/main/images/ios-critical-alert.jpg" /></p>
<p><img
src="https://raw.githubusercontent.com/josephsamela/homebridge-http-leak-sensor/main/images/macos-critical-alert.jpg" /></p>
<h2 id="installation">Installation</h2>
<ol type="1">
<li>Install <a
href="https://github.com/homebridge/homebridge#installation">homebridge</a></li>
<li>Install this plugin.
<code>npm install -g homebridge-http-leak-sensor</code>.</li>
<li>Configure the accessory in <code>config.json</code>.</li>
</ol>
<h2 id="configuration">Configuration</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="er">&quot;accessories&quot;:</span> <span class="ot">[</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;accessory&quot;</span><span class="fu">:</span> <span class="st">&quot;HomebridgeHTTPLeakSensor&quot;</span><span class="fu">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Leak Sensor&quot;</span><span class="fu">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;http://192.168.1.54/status&quot;</span><span class="fu">,</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;pollInterval&quot;</span><span class="fu">:</span> <span class="dv">60</span><span class="fu">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;failedRequestsLimit&quot;</span><span class="fu">:</span> <span class="dv">100</span><span class="fu">,</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;manufacturer&quot;</span><span class="fu">:</span> <span class="st">&quot;Homebridge&quot;</span><span class="fu">,</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;model&quot;</span><span class="fu">:</span> <span class="st">&quot;Leak Sensor&quot;</span><span class="fu">,</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;serialNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;ESP-32&quot;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="ot">]</span></span></code></pre></div>
<h3 id="required">Required</h3>
<table>
<thead>
<tr class="header">
<th>Key</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>accessory</code></td>
<td>Must be <code>"HomebridgeHTTPLeakSensor"</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>name</code></td>
<td>Name to appear in the Home app</td>
<td></td>
</tr>
<tr class="odd">
<td><code>url</code></td>
<td>URL route to your device</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="optional">Optional</h3>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Key</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>pollInterval</code></td>
<td>Time (in seconds) to check device status.</td>
<td><code>60</code></td>
</tr>
<tr class="even">
<td><code>failedRequestsLimit</code></td>
<td>Limit of failed requests that can be made to url before the plugin
stops making requests. Value of <code>0</code> allows unlimited failed
requests.</td>
<td><code>120</code></td>
</tr>
<tr class="odd">
<td><code>model</code></td>
<td>Appears under the <em>Model</em> field for the accessory</td>
<td><code>"Leak Sensor"</code></td>
</tr>
<tr class="even">
<td><code>serial</code></td>
<td>Appears under the <em>Serial</em> field for the accessory</td>
<td><code>"000000"</code></td>
</tr>
<tr class="odd">
<td><code>manufacturer</code></td>
<td>Appears under the <em>Manufacturer</em> field for the accessory</td>
<td><code>"Homebridge"</code></td>
</tr>
</tbody>
</table>
<h2 id="device-api">Device API</h2>
<p>Your Leak Sensor API should be able to return JSON information when
it receives <code>/status</code>:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode abc"><code class="sourceCode abc"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;currentState&quot;</span><span class="ch">:</span> <span class="st">&quot;WET&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dt">}</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th>State</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>"WET"</code></td>
<td>Device <em>is</em> detecting a leak.</td>
</tr>
<tr class="even">
<td><code>"DRY"</code></td>
<td>Device <em>is not</em> detecting a leak.</td>
</tr>
</tbody>
</table>
<h2 id="sensors">Sensors</h2>
<p>This plugin is intended to communicate with very simple DIY leak
sensors. To build your own Leak Sensor see sample code in the <a
href="/examples">/examples</a> folder.</p>
<p><img
src="https://raw.githubusercontent.com/josephsamela/homebridge-http-leak-sensor/main//images/diy-leak-sensor.jpg" /></p>
<footer>
    <div>
        <p class="horizontal-rule">
            &#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;&#x2592;</p>
        <p>
            <strong>JOE MAKES</strong> &#xa9; 2023 <a href='https://josephsamela.github.io/'>Joseph Samela</a></p>
    </div>
</footer>
Site generated 2023-11-13
